Title: Nested Bracket Weight Calculator

Description:
You are given a string containing only the characters '[', ']', '{', '}'. 
Your task is to calculate the "weight" of valid nested brackets.

Rules:
- '[]' contributes 1 × depth to the total score.
- '{}' contributes 2 × depth to the total score.
- Depth increases by 1 for each level of nesting.
- Any invalid or mis-nested brackets should be ignored.

Input:
A single string s (1 ≤ |s| ≤ 100000)

Output:
An integer: total weight of valid nested brackets

Examples:

Input: "[[]]"
Output: 3
Explanation: Outer [] → 1*1=1, inner [] → 1*2=2, total=3

Input: "[{[]}]"
Output: 8
Explanation: Outer [] → 1*1=1, inner {} → 2*2=4, inner [] → 1*3=3, total=8

Input: "[{][}]"
Output: 0
Explanation: All mis-nested brackets are ignored

Constraints:
- String length ≤ 100000
- Only characters '[',']','{','}' are allowed
